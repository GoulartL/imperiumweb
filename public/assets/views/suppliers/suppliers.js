!function(a){var t={};function e(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return a[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=a,e.c=t,e.d=function(a,t,n){e.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:n})},e.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},e.t=function(a,t){if(1&t&&(a=e(a)),8&t)return a;if(4&t&&"object"==typeof a&&a&&a.__esModule)return a;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var r in a)e.d(n,r,function(t){return a[t]}.bind(null,r));return n},e.n=function(a){var t=a&&a.__esModule?function(){return a.default}:function(){return a};return e.d(t,"a",t),t},e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},e.p="/",e(e.s=145)}({145:function(a,t,e){a.exports=e(146)},146:function(a,t){$(document).ready((function(){var a=$("#tbSuppliers").DataTable({language:traducao,processing:!0,serverSide:!0,ajax:"/api/fornecedores",columns:[{data:"id",name:"id"},{data:"type_supplier",name:"type"},{data:"taxvat",name:"taxvat"},{data:"state_register_id",name:"state_register_id"},{data:"name",name:"name"},{data:"fantasy_name",name:"fantasy_name"},{data:"address",name:"address"},{data:"number",name:"number"},{data:"district",name:"district"},{data:"city",name:"city"},{data:"state",name:"state"},{data:"complement",name:"complement"},{data:"zip_code",name:"zip_code"},{data:"contact_name",name:"contact_name"},{data:"phone_number_1",name:"phone_number_1"},{data:"phone_number_2",name:"phone_number_2"},{data:"email_1",name:"email_1"},{data:"email_2",name:"email_2"},{data:"bank",name:"bank"},{data:"agency",name:"agency"},{data:"account",name:"account"},{data:"account_name",name:"account_name"},{data:"observation",name:"observation"},{data:null,className:"text-nowrap",render:function(a,t,e){return"<button class='btn btn-primary btn-sm mx-1 edit'><i class='fas fa-edit action-table'></i></button><button class='btn btn-primary btn-sm mx-1 remove'><i class='fas fa-trash action-table'></i></button>"}}],columnDefs:[{className:"text-nowrap-pc",targets:"_all"},{orderable:!1,targets:[23]}],dom:"<'row'<'col-sm-12 col-md-6 toolbar text-center text-sm-left'><'col-sm-12 col-md-6 search-datatables'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",responsive:{details:{renderer:function(a,t,e){var n=$.map(e,(function(a,t){return a.hidden?'<tr data-dt-row="'+a.rowIndex+'" data-dt-column="'+a.columnIndex+'"><td class="font-weight-bold">'+a.title+":</td> <td>"+a.data+"</td></tr>":""})).join("");return!!n&&$('<table class="w-100 p-0 table-sm"/>').append(n)}}}});$("div.toolbar").html("<button class='btn waves-effect waves-light btn-primary mb-2' data-toggle='modal' data-target='#mdCrud' id='mdAddSupplier'><i class='fas fa-plus mr-2'></i>Novo Cadastro</button>"),$("#mdInputType").on("change","",(function(a){"CNPJ"==$(this).val()?($("#mdLblTaxVat").html("CNPJ"),$("#mdLblName").html("Razão Social"),$("#mdLblShortName").html("Nome Fantasia"),$("#mdLblIdRegister").html("IE")):"CPF"==$(this).val()&&($("#mdLblTaxVat").html("CPF"),$("#mdLblName").html("Nome"),$("#mdLblShortName").html("Apelido"),$("#mdLblIdRegister").html("RG"))})),$("#mdAddSupplier").on("click",(function(){$("form#supplierForm :input").each((function(){$(this).val("")})),$("#mdInputType").val("CNPJ"),$("#mdLblTaxVat").html("CNPJ"),$("#mdLblName").html("Razão Social"),$("#mdLblShortName").html("Nome Fantasia"),$("#mdLblIdRegister").html("IE")})),$("#tbSuppliers tbody").on("click",".edit",(function(){var t=a.row($(this).parents("tr")).data();$("#mdCrudTitle").html("Editar Registro"),$("#mdInputID").val(t.id),$("#mdInputTaxVat").val(t.taxvat),$("#mdInputType").val("1"==t.type?"CNPJ":"CPF"),$("#mdInputName").val(t.name),$("#mdInputShortName").val(t.fantasy_name),$("#mdInputIdRegister").val(t.state_register_id),$("#mdInputAddress").val(t.address),$("#mdInputNumber").val(t.number),$("#mdInputDistrict").val(t.district),$("#mdInputCity").val(t.city),$("#mdInputState").val(t.state),$("#mdInputComplement").val(t.complement),$("#mdInputContactName").val(t.contact_name),$("#mdInputZipcode").val(t.zip_code),$("#mdInputTel1").val(t.phone_number_1),$("#mdInputTel2").val(t.phone_number_2),$("#mdInputEmail1").val(t.email_1),$("#mdInputEmail2").val(t.email_2),$("#mdInputBank").val(t.bank),$("#mdInputAccountName").val(t.account_name),$("#mdInputAccountNumber").val(t.account),$("#mdInputAgency").val(t.agency),$("#mdInputObservations").val(t.observation),$("#mdCrud").modal("show")})),$("#tbSuppliers tbody").on("click",".remove",(function(){var t=a.row($(this).parents("tr")).data();customConfirm("Confirmar ação?","Você está prestes a excluir o registro ["+t.name+"]",(function(){$.ajax({type:"DELETE",url:"/api/fornecedores/remover/"+t.id}).done((function(t){response=JSON.parse(t),toastAlert(response.status,response.message),a.ajax.reload()}))}))})),$("#supplierForm").on("submit",(function(t){return t.preventDefault(),""==$("#mdInputID").val()?$.ajax({type:"POST",url:"/api/fornecedores/guardar",data:$(this).serializeArray()}).done((function(t){if(response=JSON.parse(t),toastAlert(response.status,response.message),clearAllInputsValidations("supplierForm"),"success"==response.status)a.ajax.reload(),$("#mdCrud").modal("hide");else for(var e in response.data)invalidateInput(e,response.data[e][0])})):$.ajax({type:"PUT",url:"/api/fornecedores/editar/"+$("#mdInputID").val(),data:$(this).serializeArray()}).done((function(t){if(response=JSON.parse(t),toastAlert(response.status,response.message),clearAllInputsValidations("supplierForm"),"success"==response.status)a.ajax.reload(),$("#mdCrud").modal("hide");else for(var e in response.data)invalidateInput(e,response.data[e][0])})),!1})),$("#mdCrud").on("hidden.bs.modal",(function(a){clearAllInputsValues("supplierForm")}))}))}});